# DO NOT EDIT! generated by ./autogen

SCC=gcc
CC=clang -O0 -g -march=native -mtune=native -std=gnu99 -pedantic -Wall -Wextra -Wno-language-extension-token -fwrapv -DTIMECOP -DGETRANDOM

default: generic 512 2048

all: default timecop

generic: testrandom.out

512: costpoly512.out checkct512untuned bench512untuned test512.out \
checkct512mults bench512mults \
checkct512cycles bench512cycles \
ubench512 umults512

2048: costpoly2048.out checkct2048untuned bench2048untuned test2048.out \
checkct2048mults bench2048mults \
checkct2048cycles bench2048cycles \
ubench2048 umults2048

timecop: \
checkct512untuned checkct512mults checkct512cycles \
checkct2048untuned checkct2048mults checkct2048cycles \

	valgrind ./checkct512untuned
	valgrind ./checkct512mults
	valgrind ./checkct512cycles
	valgrind ./checkct2048untuned
	valgrind ./checkct2048mults
	valgrind ./checkct2048cycles

# ----- benchmarks:

checkct512cycles: checkct.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_tunecycles512.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o checkct512cycles checkct.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_tunecycles512.a libtest.a

checkct2048cycles: checkct.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_tunecycles2048.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o checkct2048cycles checkct.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_tunecycles2048.a libtest.a

checkct512mults: checkct.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_tunemults512.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o checkct512mults checkct.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_tunemults512.a libtest.a

checkct2048mults: checkct.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_tunemults2048.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o checkct2048mults checkct.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_tunemults2048.a libtest.a

checkct512untuned: checkct.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o checkct512untuned checkct.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

checkct2048untuned: checkct.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o checkct2048untuned checkct.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

bench512cycles: bench.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_tunecycles512.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o bench512cycles bench.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_tunecycles512.a libtest.a

bench2048cycles: bench.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_tunecycles2048.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o bench2048cycles bench.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_tunecycles2048.a libtest.a

bench512mults: bench.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_tunemults512.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o bench512mults bench.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_tunemults512.a libtest.a

bench2048mults: bench.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_tunemults2048.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o bench2048mults bench.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_tunemults2048.a libtest.a

bench512untuned: bench.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o bench512untuned bench.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

bench2048untuned: bench.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o bench2048untuned bench.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

# ----- tests run automatically:

testrandom.out: testrandom
	[ -f testrandom.time ] && cat testrandom.time || :
	time ./testrandom > testrandom.out
	cmp testrandom.out testrandom.exp

testrandom: testrandom.o libhighctidh_base.a libtest.a
	$(CC) -o testrandom testrandom.o libhighctidh_base.a libtest.a

testrandom.o: testrandom.c random.h Makefile
	$(CC) -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c testrandom.c

test512: test.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o test512 test.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

test2048: test.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o test2048 test.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

test512.out: test512 test512.exp
	[ -f test512.time ] && cat test512.time || :
	time ./test512 > test512.out
	cmp test512.out test512.exp

test2048.out: test2048 test2048.exp
	[ -f test2048.time ] && cat test2048.time || :
	time ./test2048 > test2048.out
	cmp test2048.out test2048.exp

# ----- microbenchmarks (some run automatically):

costpoly512.out: costpoly512
	./costpoly512 > costpoly512.out
	cmp costpoly512.out costpoly.py

costpoly2048.out: costpoly2048
	./costpoly2048 > costpoly2048.out
	cmp costpoly2048.out costpoly.py

costpoly512: costpoly.c \
libhighctidh_512.a libhighctidh_base.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o costpoly512 costpoly.c \
		libhighctidh_512.a libhighctidh_base.a libtest.a

costpoly2048: costpoly.c \
libhighctidh_2048.a libhighctidh_base.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o costpoly2048 costpoly.c \
		libhighctidh_2048.a libhighctidh_base.a libtest.a

umults512: umults.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o umults512 umults.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

umults2048: umults.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o umults2048 umults.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

ubench512: ubench.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o ubench512 ubench.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

ubench2048: ubench.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o ubench2048 ubench.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

# ----- libhighctidh_tune{mults,cycles}:

libhighctidh_tunemults512.a: steps_tunemults512.o Makefile
	ar cr libhighctidh_tunemults512.a steps_tunemults512.o
	ranlib libhighctidh_tunemults512.a

libhighctidh_tunemults2048.a: steps_tunemults2048.o Makefile
	ar cr libhighctidh_tunemults2048.a steps_tunemults2048.o
	ranlib libhighctidh_tunemults2048.a

steps_tunemults512.o: steps_tunemults512.c steps.h Makefile
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c steps_tunemults512.c

steps_tunemults2048.o: steps_tunemults2048.c steps.h Makefile
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c steps_tunemults2048.c

steps_tunemults512.c: tunemults512.out tune2c Makefile
	./tune2c < tunemults512.out > steps_tunemults512.c

steps_tunemults2048.c: tunemults2048.out tune2c Makefile
	./tune2c < tunemults2048.out > steps_tunemults2048.c

tunemults512.out: tunemults512 Makefile
	[ -f tunemults512.time ] && cat tunemults512.time || :
	time ./tunemults512 > tunemults512.out

tunemults2048.out: tunemults2048 Makefile
	[ -f tunemults2048.time ] && cat tunemults2048.time || :
	time ./tunemults2048 > tunemults2048.out

tunemults512: tunemults.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o tunemults512 tunemults.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

tunemults2048: tunemults.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o tunemults2048 tunemults.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

libhighctidh_tunecycles512.a: steps_tunecycles512.o Makefile
	ar cr libhighctidh_tunecycles512.a steps_tunecycles512.o
	ranlib libhighctidh_tunecycles512.a

libhighctidh_tunecycles2048.a: steps_tunecycles2048.o Makefile
	ar cr libhighctidh_tunecycles2048.a steps_tunecycles2048.o
	ranlib libhighctidh_tunecycles2048.a

steps_tunecycles512.o: steps_tunecycles512.c steps.h Makefile
	$(CC) -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c steps_tunecycles512.c

steps_tunecycles2048.o: steps_tunecycles2048.c steps.h Makefile
	$(CC) -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c steps_tunecycles2048.c

steps_tunecycles512.c: tunecycles512.out tune2c Makefile
	./tune2c < tunecycles512.out > steps_tunecycles512.c

steps_tunecycles2048.c: tunecycles2048.out tune2c Makefile
	./tune2c < tunecycles2048.out > steps_tunecycles2048.c

tunecycles512.out: tunecycles512 Makefile
	[ -f tunecycles512.time ] && cat tunecycles512.time || :
	time ./tunecycles512 > tunecycles512.out

tunecycles2048.out: tunecycles2048 Makefile
	[ -f tunecycles2048.time ] && cat tunecycles2048.time || :
	time ./tunecycles2048 > tunecycles2048.out

tunecycles512: tunecycles.c \
libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o tunecycles512 tunecycles.c \
		libhighctidh_512.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

tunecycles2048: tunecycles.c \
libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o tunecycles2048 tunecycles.c \
		libhighctidh_2048.a libhighctidh_base.a libhighctidh_untuned.a libtest.a

# ----- libhighctidh_{512,2048}, size-dependent functions:

libhighctidh_512.a: uintbig512.o fp512.o fp_inv512.o fp_sqrt512.o primes512.o poly512.o mont512.o elligator512.o skgen512.o validate512.o csidh512.o Makefile
	ar cr libhighctidh_512.a uintbig512.o fp512.o fp_inv512.o fp_sqrt512.o primes512.o poly512.o mont512.o elligator512.o skgen512.o validate512.o csidh512.o
	ranlib libhighctidh_512.a

libhighctidh_2048.a: uintbig2048.o fp2048.o fp_inv2048.o fp_sqrt2048.o primes2048.o poly2048.o mont2048.o elligator2048.o skgen2048.o validate2048.o csidh2048.o Makefile
	ar cr libhighctidh_2048.a uintbig2048.o fp2048.o fp_inv2048.o fp_sqrt2048.o primes2048.o poly2048.o mont2048.o elligator2048.o skgen2048.o validate2048.o csidh2048.o
	ranlib libhighctidh_2048.a

csidh512.o: csidh.c csidh.h uintbig.h uintbig_namespace.h fp.h fp_namespace.h randombytes.h mont.h proj.h fp_ctidh.h mont_namespace.h primes.h primes_namespace.h csidh_namespace.h int64mask.h elligator.h elligator_namespace.h random.h random_namespace.h Makefile
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o csidh512.o -c csidh.c

csidh2048.o: csidh.c csidh.h uintbig.h uintbig_namespace.h fp.h fp_namespace.h randombytes.h mont.h proj.h fp_ctidh.h mont_namespace.h primes.h primes_namespace.h csidh_namespace.h int64mask.h elligator.h elligator_namespace.h random.h random_namespace.h Makefile
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o csidh2048.o -c csidh.c

validate512.o: validate.c csidh.h uintbig.h uintbig_namespace.h fp.h fp_namespace.h randombytes.h mont.h proj.h fp_ctidh.h mont_namespace.h primes.h primes_namespace.h csidh_namespace.h Makefile
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o validate512.o -c validate.c

validate2048.o: validate.c csidh.h uintbig.h uintbig_namespace.h fp.h fp_namespace.h randombytes.h mont.h proj.h fp_ctidh.h mont_namespace.h primes.h primes_namespace.h csidh_namespace.h Makefile
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o validate2048.o -c validate.c

skgen512.o: skgen.c csidh.h uintbig.h uintbig_namespace.h fp.h fp_namespace.h randombytes.h mont.h proj.h fp_ctidh.h mont_namespace.h primes.h primes_namespace.h csidh_namespace.h random.h random_namespace.h Makefile
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o skgen512.o -c skgen.c

skgen2048.o: skgen.c csidh.h uintbig.h uintbig_namespace.h fp.h fp_namespace.h randombytes.h mont.h proj.h fp_ctidh.h mont_namespace.h primes.h primes_namespace.h csidh_namespace.h random.h random_namespace.h Makefile
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o skgen2048.o -c skgen.c

elligator512.o: elligator.c elligator.h proj.h fp.h uintbig.h uintbig_namespace.h fp_namespace.h randombytes.h fp_ctidh.h elligator_namespace.h Makefile
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o elligator512.o -c elligator.c

elligator2048.o: elligator.c elligator.h proj.h fp.h uintbig.h uintbig_namespace.h fp_namespace.h randombytes.h fp_ctidh.h elligator_namespace.h Makefile
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o elligator2048.o -c elligator.c

mont512.o: mont.c steps.h steps_namespace.h mont.h uintbig.h uintbig_namespace.h proj.h fp.h fp_namespace.h randombytes.h fp_ctidh.h mont_namespace.h poly.h poly_namespace.h int64mask.h Makefile
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o mont512.o -c mont.c

mont2048.o: mont.c steps.h steps_namespace.h mont.h uintbig.h uintbig_namespace.h proj.h fp.h fp_namespace.h randombytes.h fp_ctidh.h mont_namespace.h poly.h poly_namespace.h int64mask.h Makefile
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o mont2048.o -c mont.c

poly512.o: poly.c mont.h uintbig.h uintbig_namespace.h proj.h fp.h fp_namespace.h randombytes.h fp_ctidh.h mont_namespace.h poly.h poly_namespace.h Makefile
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o poly512.o -c poly.c

poly2048.o: poly.c mont.h uintbig.h uintbig_namespace.h proj.h fp.h fp_namespace.h randombytes.h fp_ctidh.h mont_namespace.h poly.h poly_namespace.h Makefile
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-o poly2048.o -c poly.c

fp_inv512.o: fp_inv512.c fp.h uintbig.h uintbig_namespace.h fp_namespace.h randombytes.h Makefile
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c fp_inv512.c

fp_inv2048.o: fp_inv2048.c fp.h uintbig.h uintbig_namespace.h fp_namespace.h randombytes.h Makefile
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c fp_inv2048.c

fp_sqrt512.o: fp_sqrt512.c fp.h uintbig.h uintbig_namespace.h fp_namespace.h randombytes.h Makefile
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c fp_sqrt512.c

fp_sqrt2048.o: fp_sqrt2048.c fp.h uintbig.h uintbig_namespace.h fp_namespace.h randombytes.h Makefile
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c fp_sqrt2048.c

primes512.o: primes512.c primes.h primes_namespace.h Makefile
	$(CC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c primes512.c

primes2048.o: primes2048.c primes.h primes_namespace.h Makefile
	$(CC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c primes2048.c

fp512.o: fp512.S fp.h fp_namespace.h uintbig.h uintbig_namespace.h Makefile
	$(SCC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c fp512.S

fp2048.o: fp2048.S fp.h fp_namespace.h uintbig.h uintbig_namespace.h Makefile
	$(SCC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c fp2048.S

uintbig512.o: uintbig512.S uintbig.h uintbig_namespace.h Makefile
	$(SCC) -DBITS=512 -D'NAMESPACEBITS(x)=highctidh_512_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c uintbig512.S

uintbig2048.o: uintbig2048.S uintbig.h uintbig_namespace.h Makefile
	$(SCC) -DBITS=2048 -D'NAMESPACEBITS(x)=highctidh_2048_##x' -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c uintbig2048.S

# ----- libhighctidh_untuned, size-independent but normally replaced by tuned functions:

libhighctidh_untuned.a: steps_untuned.o Makefile
	ar cr libhighctidh_untuned.a steps_untuned.o
	ranlib libhighctidh_untuned.a

steps_untuned.o: steps_untuned.c steps.h Makefile
	$(CC) -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c steps_untuned.c

# ----- libhighctidh_base, size-independent functions:

libhighctidh_base.a: steps.o random.o Makefile
	ar cr libhighctidh_base.a steps.o random.o
	ranlib libhighctidh_base.a

steps.o: steps.c steps.h Makefile
	$(CC) -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c steps.c

random.o: random.c random.h int32_sort.h randombytes.h Makefile
	$(CC) -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c random.c

# ----- functions that libhighctidh wants from a core crypto library:

libtest.a: randombytes.o int32_sort.o Makefile
	ar cr libtest.a  randombytes.o int32_sort.o
	ranlib libtest.a

randombytes.o: randombytes.c randombytes.h Makefile
	$(CC) -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c randombytes.c

int32_sort.o: int32_sort.c int32_sort.h Makefile
	$(CC) -D'NAMESPACEGENERIC(x)=highctidh_##x' \
		-c int32_sort.c

